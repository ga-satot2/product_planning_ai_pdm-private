# 法務研修LMS - プロダクト要求仕様書 (PRD)

**バージョン:** 1.0  
**作成日:** 2025-10-16  
**作成者:** プロダクト企画チーム  
**最終更新日:** 2025-10-16  
**リリース目標日:** 2025-11-01

---

## 1. 製品概要

### 1.1 製品ビジョン

法務研修の運営を完全自動化し、管理者の負担を98%削減する。受講者にとって使いやすく、企業にとって拡張性の高い研修管理プラットフォームを提供し、将来的には全社的な研修管理基盤として展開する。

### 1.2 製品の目的

500名規模の受講者を3グループに分けて並行運営する法務研修において、以下を実現する：

1. **管理者の作業効率化**: 手動作業を98%削減（57.5時間/回 → 1時間/回）
2. **受講者の利便性向上**: 予約変更機能、リアルタイム情報更新を提供
3. **スケーラビリティの確保**: 500名・3グループの並行運営を確実に実行
4. **運用コストの最適化**: 既存Google Workspaceを活用し月額$65-130で運用

### 1.3 対象ユーザー

#### プライマリユーザー
- **研修管理者**: 法務部門の研修運営担当者（2-3名）
  - 研修スケジュール管理
  - 受講者管理
  - 出席・成績管理
  - レポート確認

#### セカンダリユーザー
- **受講者**: 全社員（対象：500名）
  - 参加希望日の予約
  - 予約変更（3日前まで、1回まで）
  - テスト受験
  - 結果確認

### 1.4 課題・ニーズ定義

**背景**  
現在の法務研修は50名規模で手動運営されているが、2025年11月から500名・3グループの並行運営に拡大する必要がある。

**課題**  
現状のまま拡大すると以下の問題が発生する：

| 課題 | 現状（50名・1グループ） | 拡大後（500名・3グループ） | 影響 |
|------|----------------------|------------------------|------|
| 作業時間 | 1.5時間/回 | 57.5時間/回 | 現実的に対応不可能 |
| エラーリスク | 低 | 高（大量データで頻発） | 運営品質の低下 |
| リアルタイム性 | 可能 | 不可能（手動更新遅延） | 受講者満足度低下 |
| 予約変更 | 手動対応可能 | 手動対応不可能 | 受講者利便性の大幅低下 |
| 進捗管理 | 容易 | 困難（3グループの把握困難） | 管理品質の低下 |

**ニーズ**  
お客様（研修管理者・受講者）は以下を必要としています：

1. **管理者**: 大規模研修を少ない工数で確実に運営したい
2. **受講者**: 柔軟に予約変更でき、最新情報をすぐに確認したい
3. **組織**: 低コストで拡張性の高いシステムが必要

---

## 2. ソリューション

### 2.1 提案するソリューション

Google Workspaceの既存サービスを最大限活用し、追加コストを最小限に抑えた自動化研修管理システムを構築する。

**主要コンポーネント**

```
┌─────────────────────────────────────────────────────┐
│                  受講者向けWebアプリ                  │
│  （予約・変更・テスト受験・結果確認）                 │
└─────────────────────────────────────────────────────┘
                        ↓↑
┌─────────────────────────────────────────────────────┐
│              Google Apps Script（自動化処理）         │
│  - データ整理  - カレンダー連携  - 通知送信           │
│  - 出席確認    - 自動採点        - レポート生成       │
└─────────────────────────────────────────────────────┘
                        ↓↑
┌──────────────┬──────────────┬──────────────────────┐
│ Google Sheets │ Google Calendar │ Google Cloud SQL    │
│ （データ管理） │ （スケジュール） │ （データベース）     │
└──────────────┴──────────────┴──────────────────────┘
```

### 2.2 期待する行動変化

このソリューションにより、以下の行動変化を実現します：

**管理者**
- 手動データ整理作業（15時間）→ 完全自動化（0分）
- 手動通知作業（5時間）→ 完全自動化（0分）
- 手動採点作業（15時間）→ 完全自動化（0分）
- **合計: 57.5時間/回 → 1時間/回（98%削減）**

**受講者**
- 予約変更不可 → 3日前まで1回変更可能
- 手動での情報確認 → リアルタイムで最新情報確認
- 結果通知待ち → 即座に結果確認可能

### 2.3 競合差別化ポイント

| 比較項目 | 一般的なLMS製品 | 本システム | 差別化ポイント |
|---------|---------------|-----------|--------------|
| **導入コスト** | $500-2,000/月 | $65-130/月 | **既存Google Workspace活用で90%削減** |
| **導入期間** | 3-6ヶ月 | 1-2ヶ月 | **軽量設計で迅速導入** |
| **統合性** | 個別連携必要 | 完全統合 | **Google Workspaceとシームレス連携** |
| **カスタマイズ性** | 制限あり | 高い | **Apps Scriptで柔軟にカスタマイズ可能** |
| **データ所有** | ベンダー管理 | 自社管理 | **Google Workspace内で完結** |
| **スケーラビリティ** | 契約変更必要 | 柔軟 | **追加コストなしで拡張可能** |

---

## 3. 機能要件

### 3.1 コア機能

#### 1. 研修管理機能
- 研修コース作成・編集・削除
- 3グループへの自動振り分け
- 受講者リストの一括インポート（CSV）
- セッションスケジュール設定

#### 2. 予約管理機能
- 参加希望日の予約（Webアプリ経由）
- 予約変更機能（3日前まで、1回まで）
- 待機リスト管理（定員超過時）
- キャンセル処理
- Google Calendar自動連携

#### 3. 出席管理機能
- テスト回答による自動出席確認
- 出席状況のリアルタイム把握
- 出席率レポート自動生成

#### 4. テスト・採点機能
- オンラインテスト実施
- 自動採点機能（客観式問題）
- 手動採点機能（記述式問題）
- 合格/不合格判定の自動化

#### 5. 補講管理機能
- 未受講者の自動抽出
- 不合格者の自動抽出
- 補講スケジュール調整
- 再テスト機能

#### 6. 通知機能
- 予約確認メール（自動送信）
- リマインド通知（研修3日前、1日前）
- 結果通知（テスト完了後即座）
- 補講案内（対象者のみ）

#### 7. 管理ダッシュボード
- 全体進捗の可視化
- グループ別進捗確認
- 出席率・合格率の統計表示
- レポート自動生成（週次・月次）

### 3.2 ユーザーストーリー

#### 受講者向け

**US-001: 予約申し込み**
> **As a** 受講者  
> **I want to** Webアプリから参加希望日を選択して予約したい  
> **So that** 自分の都合に合わせて研修に参加できる

**US-002: 予約変更**
> **As a** 受講者  
> **I want to** 予定が変わったときに予約を変更したい  
> **So that** 急な予定変更にも柔軟に対応できる

**US-003: リマインド受信**
> **As a** 受講者  
> **I want to** 研修前にリマインド通知を受け取りたい  
> **So that** 研修を忘れずに参加できる

**US-004: テスト受験**
> **As a** 受講者  
> **I want to** オンラインでテストを受験したい  
> **So that** 研修後すぐに理解度を確認できる

**US-005: 結果確認**
> **As a** 受講者  
> **I want to** テスト結果をすぐに確認したい  
> **So that** 合格/不合格を把握し、必要なら補講を受けられる

#### 管理者向け

**US-101: 研修設定**
> **As a** 研修管理者  
> **I want to** 研修コースとスケジュールを簡単に設定したい  
> **So that** 迅速に研修運営を開始できる

**US-102: 自動グループ分け**
> **As a** 研修管理者  
> **I want to** 受講者を3グループに自動振り分けたい  
> **So that** 手動での振り分け作業を削減できる

**US-103: 進捗確認**
> **As a** 研修管理者  
> **I want to** ダッシュボードで全体の進捗を一目で把握したい  
> **So that** 問題があればすぐに対応できる

**US-104: 自動採点**
> **As a** 研修管理者  
> **I want to** テストを自動採点したい  
> **So that** 500名分の採点作業を削減できる

**US-105: レポート自動生成**
> **As a** 研修管理者  
> **I want to** 出席率・合格率のレポートを自動生成したい  
> **So that** 経営層への報告資料を迅速に作成できる

### 3.3 機能の優先順位

#### Must Have（必須 - MVP v1.0）
**2025年11月1日までに実装必須**

- [x] 研修コース管理
- [x] 予約受付機能
- [x] 自動データ整理
- [x] Google Calendar連携
- [x] 予約確認メール送信
- [x] リマインド通知
- [x] 出席管理（テスト回答ベース）
- [x] 自動採点機能
- [x] 結果通知

#### Should Have（重要 - v1.1）
**2025年12月までに実装**

- [ ] 予約変更機能（3日前まで、1回まで）
- [ ] 待機リスト管理
- [ ] 管理ダッシュボード（基本版）
- [ ] レポート自動生成（週次）
- [ ] 補講管理（基本版）

#### Could Have（あれば良い - v1.2以降）
**2026年1月以降**

- [ ] 高度なダッシュボード（予測分析）
- [ ] モバイル最適化
- [ ] Slack連携強化
- [ ] 動画コンテンツ対応
- [ ] AI活用機能（質問応答）

#### Won't Have（今回は対象外）

- [ ] モバイルネイティブアプリ
- [ ] オフライン動作サポート
- [ ] 多言語対応（日本語以外）
- [ ] 外部LMSとの連携
- [ ] ゲーミフィケーション機能

---

## 4. 非機能要件

### 4.1 パフォーマンス要件

| 項目 | 要件 | 測定方法 |
|------|------|---------|
| **応答時間** | 画面遷移: 3秒以内 | Google PageSpeed Insights |
| **同時ユーザー数** | 100名の同時アクセスに対応 | 負荷テストツール使用 |
| **データ処理** | 500名のデータ処理: 5分以内 | Apps Script実行ログ確認 |
| **カレンダー連携** | 予約確定から反映: 1分以内 | 手動確認 |
| **メール送信** | 500名への一斉送信: 10分以内 | Gmail送信ログ確認 |

### 4.2 セキュリティ要件

#### 認証・認可
- **Google OAuth 2.0認証**: 社内アカウントのみアクセス可能
- **ロールベースアクセス制御（RBAC）**:
  - 管理者: 全機能アクセス可能
  - 受講者: 自分のデータのみアクセス可能
- **セッション管理**: 2時間の非アクティブでタイムアウト

#### データ保護
- **個人情報の暗号化**: 氏名・メールアドレスは暗号化保存
- **通信の暗号化**: HTTPS通信のみ許可
- **アクセスログ記録**: 全アクセスを記録し、90日間保持
- **データ保持ポリシー**: 研修終了後1年間保持、その後削除

#### プライバシー
- **GDPR準拠**: 個人情報の取り扱いをGDPR基準で実施
- **データ削除権**: 受講者は自分のデータ削除を要求可能
- **データエクスポート**: 受講者は自分のデータをエクスポート可能

### 4.3 スケーラビリティ

| 現在 | 1年後 | 3年後 |
|------|------|------|
| 500名・3グループ | 1,000名・5グループ | 2,000名・10グループ |

**拡張戦略**
- Google Cloud SQLのスケールアップで対応
- Apps Scriptの並列処理で処理速度維持
- データベースインデックス最適化で検索速度維持

### 4.4 互換性・統合性

#### 必須統合
- ✅ **Google Workspace**: Gmail, Calendar, Sheets, Drive
- ✅ **Google Cloud**: Cloud SQL (PostgreSQL), Cloud Functions

#### 将来的な統合候補
- 🔲 **Slack**: 通知連携
- 🔲 **HR系システム**: 社員マスタ連携
- 🔲 **BI ツール**: データ分析連携

### 4.5 ユーザビリティ要件

- **学習容易性**: 初回利用時のチュートリアル提供、5分以内で予約完了可能
- **アクセシビリティ**: WCAG 2.1 AA準拠（色のコントラスト、キーボード操作）
- **レスポンシブデザイン**: PC・タブレット・スマートフォンで利用可能
- **エラーメッセージ**: わかりやすい日本語でエラー内容と対処方法を表示

---

## 5. 技術仕様

### 5.1 技術スタック

#### フロントエンド
- **HTML5 + CSS3 + JavaScript**: シンプルで軽量なUI
- **Google Apps Script Web App**: Google認証と完全統合

#### バックエンド
- **Google Apps Script**: 自動化処理のメインエンジン
- **Google Cloud Functions**: 複雑な処理の分離実行
- **Node.js**: Cloud Functions実行環境

#### データ管理
- **Google Sheets**: 設定データ、一時データ管理
- **Google Cloud SQL (PostgreSQL)**: メインデータベース
- **Google Drive**: ファイルストレージ

#### 通知・連携
- **Gmail API**: メール送信
- **Google Calendar API**: カレンダー連携
- **Slack API（将来）**: Slack通知

### 5.2 アーキテクチャ概要

```
┌─────────────────────────────────────────────────────┐
│                    プレゼンテーション層               │
├─────────────────────────────────────────────────────┤
│  受講者Webアプリ  │  管理者Webアプリ  │  API        │
│  (Apps Script)   │  (Apps Script)   │  (REST)     │
└─────────────────────────────────────────────────────┘
                        ↓↑
┌─────────────────────────────────────────────────────┐
│                    ビジネスロジック層                 │
├─────────────────────────────────────────────────────┤
│  予約管理  │  出席管理  │  採点処理  │  通知管理     │
│  (Apps Script + Cloud Functions)                    │
└─────────────────────────────────────────────────────┘
                        ↓↑
┌─────────────────────────────────────────────────────┐
│                    データアクセス層                   │
├─────────────────────────────────────────────────────┤
│  Cloud SQL  │  Google Sheets  │  Google Calendar   │
│  (PostgreSQL)│  (設定管理)     │  (スケジュール)     │
└─────────────────────────────────────────────────────┘
```

**設計原則**
- **シンプル性**: 複雑さを排除し、メンテナンス性を重視
- **拡張性**: 将来的な機能追加を見越した設計
- **コスト効率**: 既存サービスを最大限活用
- **可用性**: 99.9%のアップタイム目標

### 5.3 データ要件

#### 主要エンティティ

**研修コース (courses)**
```sql
- id (UUID)
- name (研修名)
- group_id (1, 2, 3)
- max_participants (定員)
- start_date, end_date
- status (draft, active, completed)
```

**受講者 (participants)**
```sql
- id (UUID)
- employee_id (社員番号)
- name (氏名 - 暗号化)
- email (メールアドレス - 暗号化)
- group_id (割り当てグループ)
```

**予約 (reservations)**
```sql
- id (UUID)
- participant_id
- session_id
- status (pending, confirmed, cancelled, changed)
- change_count (変更回数)
```

**出席記録 (attendance)**
```sql
- id (UUID)
- participant_id
- session_id
- test_score (点数)
- attendance_status (present, absent, late)
```

#### データバックアップ
- **頻度**: 日次自動バックアップ
- **保存先**: Google Drive（専用フォルダ）
- **保持期間**: 30日間
- **復旧テスト**: 月次で復旧テスト実施

---

## 6. リリース計画

### 6.1 MVPの定義（v1.0 - 2025年11月1日リリース）

**絶対に必要な機能（研修開始に間に合わせる）**

1. ✅ 予約受付Webアプリ
2. ✅ 自動データ整理・グループ分け
3. ✅ Google Calendar自動連携
4. ✅ 予約確認メール自動送信
5. ✅ リマインド通知（3日前、1日前）
6. ✅ オンラインテスト機能
7. ✅ 自動採点・結果通知
8. ✅ 基本的な管理画面（受講者リスト、出席状況）

**MVP除外機能（v1.1以降で追加）**
- 予約変更機能（v1.1）
- 高度なダッシュボード（v1.1）
- 補講管理の自動化（v1.2）

### 6.2 リリースロードマップ

#### Phase 1: 基盤構築（2週間 - 2025年10月16日～10月30日）
**成果物**
- [x] Google Apps Script Web App骨格作成
- [x] Google Sheetsデータ構造設計
- [x] Cloud SQL環境構築
- [x] 基本認証機能実装
- [x] 予約機能実装（基本版）

#### Phase 2: コア機能実装（3週間 - 2025年10月31日～11月20日）
**成果物**
- [ ] Google Calendar連携実装
- [ ] 通知システム実装（確認メール、リマインド）
- [ ] テスト機能実装
- [ ] 自動採点機能実装
- [ ] 結果通知実装

#### Phase 3: 管理機能・最適化（2週間 - 2025年11月21日～12月4日）
**成果物**
- [ ] 管理ダッシュボード実装
- [ ] レポート機能実装
- [ ] パフォーマンス最適化
- [ ] エラーハンドリング強化

#### Phase 4: テスト・運用開始（1週間 - 2025年12月5日～12月11日）
**成果物**
- [ ] 総合テスト実施
- [ ] ユーザートレーニング（管理者向け）
- [ ] マニュアル作成
- [ ] 本番環境デプロイ

#### Phase 5: 拡張機能（v1.1 - 2025年12月～）
**成果物**
- [ ] 予約変更機能
- [ ] 待機リスト管理
- [ ] 高度なダッシュボード
- [ ] 補講管理自動化

### 6.3 フィードバックプラン

#### リリース前（ベータ版）
- **対象**: 法務部門の管理者2-3名
- **期間**: 2025年10月下旬（1週間）
- **収集方法**: 直接インタビュー、操作観察
- **重点項目**: 使いやすさ、必須機能の充足性

#### リリース後（本番運用）
- **対象**: 全受講者500名
- **期間**: 研修終了後（2025年11月～12月）
- **収集方法**: アンケート（Google Forms）、Slack質問チャンネル
- **重点項目**: 満足度、改善要望、バグ報告

#### 継続的改善
- **月次レビュー**: 管理者との定例ミーティング
- **四半期評価**: 利用状況レポート、改善計画策定
- **年次見直し**: システム全体の評価、次年度計画

---

## 7. 制約・前提条件

### 7.1 制約条件

#### 時間的制約
- **リリース期限**: 2025年11月1日（厳守）
- **研修開始**: 2025年11月1日（変更不可）
- **告知開始**: 2025年10月17日（予定）
- **開発期間**: 約6週間（2025年10月16日～11月27日）

#### 予算的制約
- **月額運用コスト**: $65-130（上限）
- **初期開発コスト**: 社内リソースのみ（追加予算なし）

#### 技術的制約
- **Google Workspaceのみ使用**: 他のクラウドサービスは原則使用不可
- **Apps Script実行時間制限**: 6分/実行（Google制限）
- **Gmail送信制限**: 1,500通/日（Google制限）

#### リソース的制約
- **開発体制**: プロダクト企画1名＋開発1-2名
- **運用体制**: 研修管理者2-3名（既存業務と兼務）

### 7.2 前提条件

#### 技術的前提
- ✅ Google Workspaceが利用可能
- ✅ 全社員がGoogle アカウントを保有
- ✅ PCまたはスマートフォンでWebアクセス可能
- ✅ インターネット接続環境あり

#### 組織的前提
- ✅ 法務部門の承認・協力が得られる
- ✅ 受講者リスト（500名分）が提供される
- ✅ 研修コンテンツ（テスト問題等）が提供される
- ✅ 運用ルール（予約変更制限等）が確定している

#### 業務的前提
- ✅ 研修は3グループに分けて実施（方針確定）
- ✅ テスト回答により出席確認を行う（方針確定）
- ✅ 予約変更は3日前まで1回まで（ルール確定）

### 7.3 リスクと軽減策

| リスク | 影響度 | 発生確率 | 軽減策 |
|--------|--------|---------|--------|
| **開発遅延による期限超過** | 高 | 中 | - MVPスコープを最小限に設定<br>- 週次進捗確認<br>- 早期のベータ版テスト |
| **Apps Script実行時間制限** | 中 | 中 | - 処理の分割実行<br>- Cloud Functionsへの移行検討<br>- バックグラウンド処理の活用 |
| **Gmail送信制限（1,500通/日）** | 中 | 低 | - 送信タイミングの分散<br>- 重要度に応じた優先送信<br>- SendGrid等の検討（予算範囲内） |
| **500名同時アクセスによる負荷** | 中 | 中 | - 負荷テストの実施<br>- キャッシュ戦略<br>- 予約受付期間の分散 |
| **データ整合性の問題** | 高 | 低 | - トランザクション処理<br>- データバリデーション強化<br>- 日次バックアップ |
| **ユーザー操作ミス** | 中 | 高 | - わかりやすいUI設計<br>- 確認ダイアログ表示<br>- 操作マニュアル提供 |
| **セキュリティインシデント** | 高 | 低 | - Google OAuth 2.0認証<br>- アクセスログ記録<br>- 定期的なセキュリティレビュー |

---

## 8. 成功指標（KPI）

### 運用効率（管理者視点）

| 指標 | 現状 | 目標（v1.0） | 測定方法 |
|------|------|------------|---------|
| **研修1回あたりの作業時間** | 57.5時間 | 1時間以下 | 管理者へのヒアリング |
| **データ入力ミス発生率** | 5% | 1%以下 | エラーログ分析 |
| **予約確定までの時間** | 手動（2-3日） | 即時 | システムログ確認 |

### ユーザー満足度（受講者視点）

| 指標 | 目標（v1.0） | 測定方法 |
|------|------------|---------|
| **システム満足度** | 4.0以上/5.0 | 研修後アンケート |
| **予約完了率** | 95%以上 | 予約データ分析 |
| **問い合わせ件数** | 10件以下/回 | Slack質問チャンネル集計 |

### システム品質

| 指標 | 目標（v1.0） | 測定方法 |
|------|------------|---------|
| **システム稼働率** | 99.9%以上 | Google Cloud監視 |
| **ページ読み込み時間** | 3秒以内 | PageSpeed Insights |
| **エラー発生率** | 1%以下 | エラーログ分析 |

---

## 9. 承認

| 役割 | 氏名 | 署名 | 日付 |
|------|------|------|------|
| プロダクトオーナー | | | |
| プロジェクトマネージャー | プロダクト企画チーム | | 2025-10-16 |
| 開発リード | | | |
| 法務部門責任者 | | | |

---

## 10. 変更履歴

| バージョン | 日付 | 変更者 | 変更内容 |
|-----------|------|-------|---------|
| 1.0 | 2025-10-16 | プロダクト企画チーム | 初版作成 |

---

## 11. 関連ドキュメント

### 既存設計書
- [システム設計書](法務研修LMSシステム設計書.md)
- [シーケンス図](法務研修LMS_シーケンス図.md)
- [予約変更機能設計](予約変更機能_対策設計.md)
- [アーキテクチャ設計](GoogleワークスペースLMS_アーキテクチャ設計.md)
- [現状課題分析](../2_research/現状課題_改善点_明確化.md)

### 作成予定の関連文書
- プロジェクト憲章
- WBS（作業分解構造）
- リスク管理計画
- テスト計画書
- 運用マニュアル

---

**📌 次のステップ**

1. ✅ PRD作成完了
2. ⏭️ プロジェクト憲章作成（「プロジェクト憲章」と入力）
3. ⏭️ WBS作成（「WBS作成」と入力）
4. ⏭️ 開発計画策定（「開発計画作成」と入力）
5. ⏭️ 開発開始

---

**文書ステータス**: ✅ ドラフト完成  
**次のアクション**: 内容確認後「確定反映して」と入力するとStockディレクトリに保存されます

