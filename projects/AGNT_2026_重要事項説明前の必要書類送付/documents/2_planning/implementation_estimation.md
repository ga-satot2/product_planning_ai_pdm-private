# AGNT 2026 重要事項説明前の必要書類送付 AGNT実装見積り

**プロジェクト名**: AGNT 2026 重要事項説明前の必要書類送付  
**ドキュメント種別**: 実装見積り  
**作成日**: 2025-12-10  
**最終更新**: 2025-12-10  
**出典**: [Confluence - AGNT 2026 重要事項説明前の必要書類送付 AGNT実装見積り](https://ga-tech.atlassian.net/wiki/spaces/AGNT/pages/5218599068/AGNT+2026+%E9%87%8D%E8%A6%81%E4%BA%8B%E9%A0%85%E8%AA%AC%E6%98%8E%E5%89%8D%E3%81%AE%E5%BF%85%E8%A6%81%E6%9B%B8%E9%A1%9E%E9%80%81%E4%BB%98+AGNT%E5%AE%9F%E8%A3%85%E8%A6%8B%E7%A9%8D%E3%82%8A)

---

## 工数サマリー

**合計(実装/レビュー)**: h (赤間：h, 小松：44h, 飛：51h)

**赤間**: 2025/12/8週 ~ 2026/1/週 (12月：h, 1月: h)

**小松**: 2025/12/15週 ~ 2025/1/5週 (12月: 28h, 1月: 16h)

**飛**: 2025/12/8週 ~ 2026/1/5週 (12月: 28h, 1月: 23h)

---

## サブリース契約書連携実装（飛）

**見積もり工数**: 36h

**見積もり工数バッファ1.2**: 43.2h

**合計**: 43h（四捨五入） + 8h(仕様変更で不要になったが実装済だったため工数追加します。)

**51 / 7.5= 7営業日**（1日7.5時間計算 切り上げ）

| **大機能** | **小機能** | **プロダクト** | **工数（h）** | **備考** |
| --- | --- | --- | --- | --- |
| サブリース契約書をAGNTに保存 ※要件変更により不要。実装済みだったので工数の証跡として残す | 契約書作成APIでサブリース契約書をAGNTに保存する<br>ArticleItemFile APIでサブリース契約書を取得予定<br>Itemを取得するAPI(api/items)でクエリパラメータの`name`を指定し、該当書類のidを取得する<br>`DocumentSignFile`,`ContractFile`にサブリース用のkindを追加<br>`DocumentSignFile`と`ContractFile`のkindのマッピング追加 | AGNT | 8 | 印字の有無確認する<br>サブリース契約書が複数の場合、保存するのはcreated_at最新のファイルでよいか |
| 契約詳細の改修 | 契約詳細でサブリース契約書を表示、更新、削除可能にする<br>文言：事前交付用サブリース契約書<br>書類が存在する場合、リンクで「事前交付用サブリース契約書（送付済み）」と表示<br>表示位置：契約書類の一番下 | AGNT | 4 | サブリース契約書とメール送信のタイミングは同じなので、メール送信済かどうかのフラグは持たず、サブリース契約書が存在すれば「送信済み」と表示する |
| サブリース契約書連携と顧客へメール送信 | ArticleItemFile APIでサブリース契約書を取得し、ContractFileに保存する<br>「特定賃貸借かどうか」をSUP　APIで取得し、trueの場合のみ取得する<br>送信タイミング：<br>正式発表物件は申込報告時<br>先行発表は正式発表移行時（正式発表移行受付API内で処理） | AGNT | 8 | 契約復活時は？<br>契約に紐づくサブリース契約書が存在する場合は送信しない？<br>発表からまた先行に戻ることはない？<br>戻る場合、正式発表移行時に契約にサブリース契約書が存在するかの確認が必要か？<br>発表から販売停止などになってもサブリース契約書の内容は変わらない？ |
|  | メール送信機能<br>送信内容：<br>メール本文: 重説9項目の概要を記載<br>添付ファイル: 事前交付用サブリース契約書 | AGNT | 8 |  |
|  | 「特定賃貸借かどうか」を返すSUPのAPIのクライアント実装 | AGNT | 4 |  |
|  | 正式発表移行受付APIの改修<br>サブリース契約書連携<br>メール送信 |  | 8 |  |
| 結合テスト | サブリース契約書部分のみ | AGNT |  4 |  |

---

## ドキュサイン連携部分

**見積もり工数**: 36h

**見積もり工数バッファ1.2**: 44h（小数切り上げ）

**44 / 5= 11営業日**（1日5時間計算 切り上げ）

|  | **大機能** | **小機能** | **プロダクト** | **工数（h）** | **備考** |
| --- | --- | --- | --- | --- | --- |
|  | ドキュサイン連携 | 事前送付<br>`envelope.rb`にエンベロープ作成メソッドを追加<br>以下の設定で送信<br>閲覧者：売契重説と賃契重説<br>署名者：↑以外<br>閲覧者への交付でワークフローを一時停止 | AGNT | 19 |  |
| --- | --- | --- | --- | --- | --- |
|  |  | 契約時送付<br>`envelope.rb`にワークフロー再開メソッドを追加 | AGNT | 10 |  |
| --- | --- | --- | --- | --- | --- |
|  | マイページ契約ボタン制御 | 下記APIを使って、契約詳細表示時にenvelopeの状況を取得。顧客が閲覧していない状態だとボタンを押せないようにする。<br>[listRecipients REST API](https://developers.docusign.com/docs/esign-rest-api/reference/envelopes/enveloperecipients/list/) | AGNT | 4 |  |
| --- | --- | --- | --- | --- | --- |
|  | 重要事項説明書の署名欄への印字を削除 | `document_sign_file.rb`の `process_presentation_of_important_info`メソッドで署名箇所を印字している | AGNT | 3 | 顧客名の印字自体はAGNTで行っているが、署名欄はSUP側で設定しているため同時リリース必須 |

---

## 参考資料

* [開発要件定義書（DocuSign）](./development_requirements_docusign.md)
* [開発要件定義書（サブリース）](./development_requirements_sublease.md)



















